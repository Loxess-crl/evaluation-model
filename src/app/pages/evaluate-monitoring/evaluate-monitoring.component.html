<div class="body">
  <h2>Evaluar</h2>

  <div class="main">
    <div class="options">
      <mat-form-field appearance="outline" class="filtro">
        <mat-label>Fecha</mat-label>
        <input
          matInput
          [matDatepicker]="picker2"
          placeholder="Fecha"
          [value]="date"
          (dateChange)="onDateChange($event)"
        />
        <mat-datepicker-toggle
          matSuffix
          [for]="picker2"
        ></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
    </div>

    <div class="data">
      <div class="table-users">
        <table mat-table [dataSource]="staff">
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>NÂº</th>
            <td mat-cell *matCellDef="let staff">
              {{ staff.id }}
            </td>
          </ng-container>

          <ng-container matColumnDef="staff">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Staff</th>
            <td mat-cell *matCellDef="let staff">{{ staff.docente }}</td>
          </ng-container>

          <ng-container matColumnDef="estado">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
            <td mat-cell *matCellDef="let staff">
              <button
                mat-stroked-button
                class="buttonChip"
                [color]="staff.evaluacion === 0 ? 'warn' : 'primary'"
                (click)="evaluarStaff(staff)"
              >
                {{ staff.evaluacion === 0 ? "Sin evaluar" : "Evaluado" }}
              </button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

          <tr class="mat-row" *matNoDataRow>
            <td
              class="mat-cell"
              colspan="7"
              *ngIf="!loadingPage; else cargando"
            >
              <p>No se han encontrado datos</p>
            </td>
            <ng-template #cargando>
              <td class="mat-cell" colspan="7">
                <span>Cargando...</span>
              </td>
            </ng-template>
          </tr>
        </table>
      </div>

      <app-paginator
        [length]="total"
        [pageOffset]="pageOffset"
        [pageIndex]="pageIndex"
      ></app-paginator>
    </div>
  </div>
</div>
